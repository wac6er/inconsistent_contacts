{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\w7car\\\\source\\\\repos\\\\inconsistentContacts\\\\inconsistentContacts\\\\src\\\\SignIn.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { auth } from './firebase';\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword, sendEmailVerification } from 'firebase/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SignIn() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isNewUser, setIsNewUser] = useState(true);\n  const [error, setError] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const handleSignIn = async event => {\n    event.preventDefault(); // Prevents the default form submission behavior\n    try {\n      if (isNewUser) {\n        console.log(\"Attempting to register:\", email);\n        const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n        console.log(\"Registration successful\", userCredential);\n        sendEmailVerification(userCredential.user);\n        setError('');\n        alert('Registration successful. Please check your email for verification.');\n        setIsNewUser(false); // Switch back to sign-in after successful registration\n      } else {\n        console.log(\"Attempting to sign in:\", email);\n        await signInWithEmailAndPassword(auth, email, password);\n        setError('');\n      }\n    } catch (error) {\n      console.error(\"Authentication error\", error);\n      if (isNewUser) {\n        setError('Registration failed. Email must be valid. Password must be 6 characters long.');\n      } else {\n        setError('Failed to sign in. Please check your email and password.');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: isNewUser ? 'Sign Up' : 'Sign In'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSignIn,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: showPassword ? 'text' : 'password',\n          id: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowPassword(!showPassword),\n          children: [showPassword ? 'Hide' : 'Show', \" Password\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: isNewUser ? 'Register' : 'Sign In'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setIsNewUser(!isNewUser),\n          children: isNewUser ? 'Already have an account? Sign In' : 'New user? Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), isNewUser && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '10px'\n        },\n        children: \"A verification email will be sent upon registration.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 35\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 13\n  }, this);\n}\n_s(SignIn, \"9UhhM0AwSUy9tbHEk1kLc7B0kPk=\");\n_c = SignIn;\nexport default SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["React","useState","auth","signInWithEmailAndPassword","createUserWithEmailAndPassword","sendEmailVerification","jsxDEV","_jsxDEV","SignIn","_s","email","setEmail","password","setPassword","isNewUser","setIsNewUser","error","setError","showPassword","setShowPassword","handleSignIn","event","preventDefault","console","log","userCredential","user","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","onSubmit","htmlFor","type","id","value","onChange","e","target","onClick","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/w7car/source/repos/inconsistentContacts/inconsistentContacts/src/SignIn.js"],"sourcesContent":["\r\n    import React, { useState } from 'react';\r\n    import { auth } from './firebase';\r\n    import { signInWithEmailAndPassword, createUserWithEmailAndPassword, sendEmailVerification } from 'firebase/auth';\r\n\r\n    function SignIn() {\r\n        const [email, setEmail] = useState('');\r\n        const [password, setPassword] = useState('');\r\n        const [isNewUser, setIsNewUser] = useState(true);\r\n        const [error, setError] = useState('');\r\n        const [showPassword, setShowPassword] = useState(false);\r\n\r\n        const handleSignIn = async (event) => {\r\n            event.preventDefault(); // Prevents the default form submission behavior\r\n            try {\r\n                if (isNewUser) {\r\n                    console.log(\"Attempting to register:\", email);\r\n                    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n                    console.log(\"Registration successful\", userCredential);\r\n\r\n                    sendEmailVerification(userCredential.user);\r\n                    setError('');\r\n                    alert('Registration successful. Please check your email for verification.');\r\n                    setIsNewUser(false); // Switch back to sign-in after successful registration\r\n                } else {\r\n                    console.log(\"Attempting to sign in:\", email);\r\n                    await signInWithEmailAndPassword(auth, email, password);\r\n                    setError('');\r\n                }\r\n\r\n            } catch (error) {\r\n                console.error(\"Authentication error\", error);\r\n                if (isNewUser) {\r\n                    setError('Registration failed. Email must be valid. Password must be 6 characters long.');\r\n                } else {\r\n                    setError('Failed to sign in. Please check your email and password.');\r\n                }\r\n            }\r\n        };\r\n\r\n\r\n        return (\r\n            <div>\r\n                <h2>{isNewUser ? 'Sign Up' : 'Sign In'}</h2>\r\n                {error && <p style={{ color: 'red' }}>{error}</p>}\r\n                <form onSubmit={handleSignIn}>\r\n                    <div>\r\n                        <label htmlFor=\"email\">Email:</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"email\"\r\n                            value={email}\r\n                            onChange={e => setEmail(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"password\">Password:</label>\r\n                        <input\r\n                            type={showPassword ? 'text' : 'password'}\r\n                            id=\"password\"\r\n                            value={password}\r\n                            onChange={e => setPassword(e.target.value)}\r\n                        />\r\n                        <button type=\"button\" onClick={() => setShowPassword(!showPassword)}>\r\n                            {showPassword ? 'Hide' : 'Show'} Password\r\n                        </button>\r\n                    </div>\r\n                    <div style={{ marginTop: '10px' }}>\r\n                        <button type=\"submit\">{isNewUser ? 'Register' : 'Sign In'}</button>\r\n                    </div>\r\n                    <div style={{ marginTop: '10px' }}>\r\n                        <button type=\"button\" onClick={() => setIsNewUser(!isNewUser)}>\r\n                            {isNewUser ? 'Already have an account? Sign In' : 'New user? Register'}\r\n                        </button>\r\n                    </div>\r\n                    {isNewUser && <p style={{ marginTop: '10px' }}>A verification email will be sent upon registration.</p>}\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    export default SignIn;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}